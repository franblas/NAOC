from ..packets.packet_out import *

def inventory_items_update_pak(window_type, gameclient):
   data = gameclient.selected_character
   if not data: return

   #TODO: test for now
   # return inventory_items_partial_update_pak(window_type)
   ins = write_byte(0x00)
   ins += write_byte(0xeb)
   ins += write_byte(0x02)
   ins += write_byte(0x06)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x22)
   ins += write_byte(0x01)
   ins += write_byte(0x0c)
   ins += write_byte(0x00)
   ins += write_byte(0x0c)
   ins += write_byte(0x2d)
   ins += write_byte(0x40)
   ins += write_byte(0x48)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x2d)
   ins += write_byte(0x64)
   ins += write_byte(0x64)
   ins += write_byte(0x5a)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x13)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x02)
   ins += write_byte(0x00)
   ins += write_byte(0x0e)
   ins += write_byte(0x74)
   ins += write_byte(0x72)
   ins += write_byte(0x61)
   ins += write_byte(0x69)
   ins += write_byte(0x6e)
   ins += write_byte(0x69)
   ins += write_byte(0x6e)
   ins += write_byte(0x67)
   ins += write_byte(0x20)
   ins += write_byte(0x73)
   ins += write_byte(0x74)
   ins += write_byte(0x61)
   ins += write_byte(0x66)
   ins += write_byte(0x66)
   ins += write_byte(0x16)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x20)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x08)
   ins += write_byte(0x64)
   ins += write_byte(0x64)
   ins += write_byte(0x55)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x8e)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x02)
   ins += write_byte(0x00)
   ins += write_byte(0x13)
   ins += write_byte(0x77)
   ins += write_byte(0x6f)
   ins += write_byte(0x6f)
   ins += write_byte(0x6c)
   ins += write_byte(0x65)
   ins += write_byte(0x6e)
   ins += write_byte(0x20)
   ins += write_byte(0x63)
   ins += write_byte(0x6c)
   ins += write_byte(0x6f)
   ins += write_byte(0x74)
   ins += write_byte(0x68)
   ins += write_byte(0x20)
   ins += write_byte(0x67)
   ins += write_byte(0x6c)
   ins += write_byte(0x6f)
   ins += write_byte(0x76)
   ins += write_byte(0x65)
   ins += write_byte(0x73)
   ins += write_byte(0x17)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x20)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x08)
   ins += write_byte(0x64)
   ins += write_byte(0x64)
   ins += write_byte(0x55)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x8f)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x02)
   ins += write_byte(0x00)
   ins += write_byte(0x12)
   ins += write_byte(0x77)
   ins += write_byte(0x6f)
   ins += write_byte(0x6f)
   ins += write_byte(0x6c)
   ins += write_byte(0x65)
   ins += write_byte(0x6e)
   ins += write_byte(0x20)
   ins += write_byte(0x63)
   ins += write_byte(0x6c)
   ins += write_byte(0x6f)
   ins += write_byte(0x74)
   ins += write_byte(0x68)
   ins += write_byte(0x20)
   ins += write_byte(0x62)
   ins += write_byte(0x6f)
   ins += write_byte(0x6f)
   ins += write_byte(0x74)
   ins += write_byte(0x73)
   ins += write_byte(0x19)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x20)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x14)
   ins += write_byte(0x64)
   ins += write_byte(0x64)
   ins += write_byte(0x55)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x8b)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x02)
   ins += write_byte(0x00)
   ins += write_byte(0x11)
   ins += write_byte(0x77)
   ins += write_byte(0x6f)
   ins += write_byte(0x6f)
   ins += write_byte(0x6c)
   ins += write_byte(0x65)
   ins += write_byte(0x6e)
   ins += write_byte(0x20)
   ins += write_byte(0x63)
   ins += write_byte(0x6c)
   ins += write_byte(0x6f)
   ins += write_byte(0x74)
   ins += write_byte(0x68)
   ins += write_byte(0x20)
   ins += write_byte(0x76)
   ins += write_byte(0x65)
   ins += write_byte(0x73)
   ins += write_byte(0x74)
   ins += write_byte(0x1b)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x20)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x0e)
   ins += write_byte(0x64)
   ins += write_byte(0x64)
   ins += write_byte(0x55)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x8c)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x02)
   ins += write_byte(0x00)
   ins += write_byte(0x12)
   ins += write_byte(0x77)
   ins += write_byte(0x6f)
   ins += write_byte(0x6f)
   ins += write_byte(0x6c)
   ins += write_byte(0x65)
   ins += write_byte(0x6e)
   ins += write_byte(0x20)
   ins += write_byte(0x63)
   ins += write_byte(0x6c)
   ins += write_byte(0x6f)
   ins += write_byte(0x74)
   ins += write_byte(0x68)
   ins += write_byte(0x20)
   ins += write_byte(0x70)
   ins += write_byte(0x61)
   ins += write_byte(0x6e)
   ins += write_byte(0x74)
   ins += write_byte(0x73)
   ins += write_byte(0x1c)
   ins += write_byte(0x02)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x20)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x0e)
   ins += write_byte(0x64)
   ins += write_byte(0x64)
   ins += write_byte(0x55)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0xad)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x02)
   ins += write_byte(0x00)
   ins += write_byte(0x11)
   ins += write_byte(0x77)
   ins += write_byte(0x6f)
   ins += write_byte(0x6f)
   ins += write_byte(0x6c)
   ins += write_byte(0x65)
   ins += write_byte(0x6e)
   ins += write_byte(0x20)
   ins += write_byte(0x63)
   ins += write_byte(0x6c)
   ins += write_byte(0x6f)
   ins += write_byte(0x74)
   ins += write_byte(0x68)
   ins += write_byte(0x20)
   ins += write_byte(0x61)
   ins += write_byte(0x72)
   ins += write_byte(0x6d)
   ins += write_byte(0x73)
   ins += write_byte(0x00)
   ins += write_byte(0x4f)
   ins += write_byte(0x02)
   ins += write_byte(0x01)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x22)
   ins += write_byte(0x02)
   ins += write_byte(0x28)
   ins += write_byte(0x05)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x29)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x64)
   ins += write_byte(0x64)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x74)
   ins += write_byte(0x01)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x0a)
   ins += write_byte(0x10)
   ins += write_byte(0xd6)
   ins += write_byte(0x17)
   ins += write_byte(0x47)
   ins += write_byte(0x61)
   ins += write_byte(0x74)
   ins += write_byte(0x65)
   ins += write_byte(0x77)
   ins += write_byte(0x61)
   ins += write_byte(0x79)
   ins += write_byte(0x20)
   ins += write_byte(0x2d)
   ins += write_byte(0x20)
   ins += write_byte(0x50)
   ins += write_byte(0x65)
   ins += write_byte(0x72)
   ins += write_byte(0x73)
   ins += write_byte(0x6f)
   ins += write_byte(0x6e)
   ins += write_byte(0x61)
   ins += write_byte(0x6c)
   ins += write_byte(0x20)
   ins += write_byte(0x42)
   ins += write_byte(0x69)
   ins += write_byte(0x6e)
   ins += write_byte(0x64)
   ins += write_byte(0x00)
   ins += write_byte(0x1a)
   ins += write_byte(0x50)
   ins += write_byte(0x65)
   ins += write_byte(0x72)
   ins += write_byte(0x73)
   ins += write_byte(0x6f)
   ins += write_byte(0x6e)
   ins += write_byte(0x61)
   ins += write_byte(0x6c)
   ins += write_byte(0x20)
   ins += write_byte(0x42)
   ins += write_byte(0x69)
   ins += write_byte(0x6e)
   ins += write_byte(0x64)
   ins += write_byte(0x20)
   ins += write_byte(0x52)
   ins += write_byte(0x65)
   ins += write_byte(0x63)
   ins += write_byte(0x61)
   ins += write_byte(0x6c)
   ins += write_byte(0x6c)
   ins += write_byte(0x20)
   ins += write_byte(0x53)
   ins += write_byte(0x74)
   ins += write_byte(0x6f)
   ins += write_byte(0x6e)
   ins += write_byte(0x65)
   ins += write_byte(0x00)
   ins += write_byte(0x8e)
   ins += write_byte(0x16)
   ins += write_byte(0x01)
   ins += write_byte(0x07)
   ins += write_byte(0x03)
   ins += write_byte(0x00)
   ins += write_byte(0x01)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x0b)
   ins += write_byte(0x4c)
   ins += write_byte(0x69)
   ins += write_byte(0x67)
   ins += write_byte(0x68)
   ins += write_byte(0x74)
   ins += write_byte(0x20)
   ins += write_byte(0x4d)
   ins += write_byte(0x61)
   ins += write_byte(0x67)
   ins += write_byte(0x69)
   ins += write_byte(0x63)
   ins += write_byte(0x01)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x0a)
   ins += write_byte(0x4d)
   ins += write_byte(0x61)
   ins += write_byte(0x6e)
   ins += write_byte(0x61)
   ins += write_byte(0x20)
   ins += write_byte(0x4d)
   ins += write_byte(0x61)
   ins += write_byte(0x67)
   ins += write_byte(0x69)
   ins += write_byte(0x63)
   ins += write_byte(0x01)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x0a)
   ins += write_byte(0x56)
   ins += write_byte(0x6f)
   ins += write_byte(0x69)
   ins += write_byte(0x64)
   ins += write_byte(0x20)
   ins += write_byte(0x4d)
   ins += write_byte(0x61)
   ins += write_byte(0x67)
   ins += write_byte(0x69)
   ins += write_byte(0x63)
   ins += write_byte(0x00)
   ins += write_byte(0x01)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x01)
   ins += write_byte(0x99)
   ins += write_byte(0x06)
   ins += write_byte(0x53)
   ins += write_byte(0x70)
   ins += write_byte(0x72)
   ins += write_byte(0x69)
   ins += write_byte(0x6e)
   ins += write_byte(0x74)
   ins += write_byte(0x00)
   ins += write_byte(0x01)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x01)
   ins += write_byte(0x90)
   ins += write_byte(0x09)
   ins += write_byte(0x51)
   ins += write_byte(0x75)
   ins += write_byte(0x69)
   ins += write_byte(0x63)
   ins += write_byte(0x6b)
   ins += write_byte(0x63)
   ins += write_byte(0x61)
   ins += write_byte(0x73)
   ins += write_byte(0x74)
   ins += write_byte(0x00)
   ins += write_byte(0x01)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x14)
   ins += write_byte(0x41)
   ins += write_byte(0x72)
   ins += write_byte(0x6d)
   ins += write_byte(0x6f)
   ins += write_byte(0x72)
   ins += write_byte(0x20)
   ins += write_byte(0x41)
   ins += write_byte(0x62)
   ins += write_byte(0x69)
   ins += write_byte(0x6c)
   ins += write_byte(0x69)
   ins += write_byte(0x74)
   ins += write_byte(0x79)
   ins += write_byte(0x3a)
   ins += write_byte(0x20)
   ins += write_byte(0x43)
   ins += write_byte(0x6c)
   ins += write_byte(0x6f)
   ins += write_byte(0x74)
   ins += write_byte(0x68)
   ins += write_byte(0x00)
   ins += write_byte(0x01)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x10)
   ins += write_byte(0x57)
   ins += write_byte(0x65)
   ins += write_byte(0x61)
   ins += write_byte(0x70)
   ins += write_byte(0x6f)
   ins += write_byte(0x6e)
   ins += write_byte(0x72)
   ins += write_byte(0x79)
   ins += write_byte(0x3a)
   ins += write_byte(0x20)
   ins += write_byte(0x53)
   ins += write_byte(0x74)
   ins += write_byte(0x61)
   ins += write_byte(0x76)
   ins += write_byte(0x65)
   ins += write_byte(0x73)
   ins += write_byte(0x00)
   ins += write_byte(0x23)
   ins += write_byte(0x16)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x0e)
   ins += write_byte(0x57)
   ins += write_byte(0x61)
   ins += write_byte(0x79)
   ins += write_byte(0x20)
   ins += write_byte(0x6f)
   ins += write_byte(0x66)
   ins += write_byte(0x20)
   ins += write_byte(0x74)
   ins += write_byte(0x68)
   ins += write_byte(0x65)
   ins += write_byte(0x20)
   ins += write_byte(0x53)
   ins += write_byte(0x75)
   ins += write_byte(0x6e)
   ins += write_byte(0x01)
   ins += write_byte(0x10)
   ins += write_byte(0x05)
   ins += write_byte(0x09)
   ins += write_byte(0x47)
   ins += write_byte(0x6c)
   ins += write_byte(0x65)
   ins += write_byte(0x61)
   ins += write_byte(0x6d)
   ins += write_byte(0x20)
   ins += write_byte(0x52)
   ins += write_byte(0x61)
   ins += write_byte(0x79)
   ins += write_byte(0x00)
   ins += write_byte(0x2b)
   ins += write_byte(0x16)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x01)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x0f)
   ins += write_byte(0x57)
   ins += write_byte(0x61)
   ins += write_byte(0x79)
   ins += write_byte(0x20)
   ins += write_byte(0x6f)
   ins += write_byte(0x66)
   ins += write_byte(0x20)
   ins += write_byte(0x74)
   ins += write_byte(0x68)
   ins += write_byte(0x65)
   ins += write_byte(0x20)
   ins += write_byte(0x4d)
   ins += write_byte(0x6f)
   ins += write_byte(0x6f)
   ins += write_byte(0x6e)
   ins += write_byte(0x01)
   ins += write_byte(0x10)
   ins += write_byte(0xcd)
   ins += write_byte(0x10)
   ins += write_byte(0x4c)
   ins += write_byte(0x65)
   ins += write_byte(0x73)
   ins += write_byte(0x73)
   ins += write_byte(0x65)
   ins += write_byte(0x72)
   ins += write_byte(0x20)
   ins += write_byte(0x50)
   ins += write_byte(0x6f)
   ins += write_byte(0x77)
   ins += write_byte(0x65)
   ins += write_byte(0x72)
   ins += write_byte(0x77)
   ins += write_byte(0x61)
   ins += write_byte(0x72)
   ins += write_byte(0x64)
   ins += write_byte(0x00)
   ins += write_byte(0x1a)
   ins += write_byte(0x16)
   ins += write_byte(0x02)
   ins += write_byte(0x01)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x12)
   ins += write_byte(0x57)
   ins += write_byte(0x61)
   ins += write_byte(0x79)
   ins += write_byte(0x20)
   ins += write_byte(0x6f)
   ins += write_byte(0x66)
   ins += write_byte(0x20)
   ins += write_byte(0x74)
   ins += write_byte(0x68)
   ins += write_byte(0x65)
   ins += write_byte(0x20)
   ins += write_byte(0x45)
   ins += write_byte(0x63)
   ins += write_byte(0x6c)
   ins += write_byte(0x69)
   ins += write_byte(0x70)
   ins += write_byte(0x73)
   ins += write_byte(0x65)
   ins += write_byte(0x00)
   ins += write_byte(0x25)
   ins += write_byte(0x16)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x03)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x0e)
   ins += write_byte(0x53)
   ins += write_byte(0x68)
   ins += write_byte(0x61)
   ins += write_byte(0x64)
   ins += write_byte(0x6f)
   ins += write_byte(0x77)
   ins += write_byte(0x20)
   ins += write_byte(0x43)
   ins += write_byte(0x6f)
   ins += write_byte(0x6e)
   ins += write_byte(0x74)
   ins += write_byte(0x72)
   ins += write_byte(0x6f)
   ins += write_byte(0x6c)
   ins += write_byte(0x01)
   ins += write_byte(0x10)
   ins += write_byte(0x37)
   ins += write_byte(0x0b)
   ins += write_byte(0x53)
   ins += write_byte(0x68)
   ins += write_byte(0x61)
   ins += write_byte(0x64)
   ins += write_byte(0x6f)
   ins += write_byte(0x77)
   ins += write_byte(0x62)
   ins += write_byte(0x75)
   ins += write_byte(0x72)
   ins += write_byte(0x73)
   ins += write_byte(0x74)
   ins += write_byte(0x00)
   ins += write_byte(0x2c)
   ins += write_byte(0x16)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x04)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x0a)
   ins += write_byte(0x56)
   ins += write_byte(0x61)
   ins += write_byte(0x63)
   ins += write_byte(0x75)
   ins += write_byte(0x75)
   ins += write_byte(0x6d)
   ins += write_byte(0x61)
   ins += write_byte(0x6e)
   ins += write_byte(0x63)
   ins += write_byte(0x79)
   ins += write_byte(0x01)
   ins += write_byte(0x10)
   ins += write_byte(0xff)
   ins += write_byte(0x16)
   ins += write_byte(0x4c)
   ins += write_byte(0x65)
   ins += write_byte(0x73)
   ins += write_byte(0x73)
   ins += write_byte(0x65)
   ins += write_byte(0x72)
   ins += write_byte(0x20)
   ins += write_byte(0x45)
   ins += write_byte(0x6e)
   ins += write_byte(0x73)
   ins += write_byte(0x6e)
   ins += write_byte(0x61)
   ins += write_byte(0x72)
   ins += write_byte(0x69)
   ins += write_byte(0x6e)
   ins += write_byte(0x67)
   ins += write_byte(0x20)
   ins += write_byte(0x42)
   ins += write_byte(0x6c)
   ins += write_byte(0x61)
   ins += write_byte(0x73)
   ins += write_byte(0x74)
   ins += write_byte(0x00)
   ins += write_byte(0x20)
   ins += write_byte(0x16)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x02)
   ins += write_byte(0x05)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x00)
   ins += write_byte(0x0c)
   ins += write_byte(0x56)
   ins += write_byte(0x6f)
   ins += write_byte(0x69)
   ins += write_byte(0x64)
   ins += write_byte(0x20)
   ins += write_byte(0x4d)
   ins += write_byte(0x61)
   ins += write_byte(0x73)
   ins += write_byte(0x74)
   ins += write_byte(0x65)
   ins += write_byte(0x72)
   ins += write_byte(0x79)
   ins += write_byte(0x01)
   ins += write_byte(0x11)
   ins += write_byte(0xc7)
   ins += write_byte(0x08)
   ins += write_byte(0x4e)
   ins += write_byte(0x69)
   ins += write_byte(0x6c)
   ins += write_byte(0x20)
   ins += write_byte(0x42)
   ins += write_byte(0x6f)
   ins += write_byte(0x6c)
   ins += write_byte(0x74)
   ins += write_byte(0x00)
   ins += write_byte(0x04)
   ins += write_byte(0x16)
   ins += write_byte(0x02)
   ins += write_byte(0x00)
   ins += write_byte(0x63)
   ins += write_byte(0x00)

   pak = write_short(packet_length(ins))
   pak += write_byte(0x02)
   pak += ins
   return pak


def inventory_items_partial_update_pak(window_type):
   # pak.WriteByte((byte)(items.Count));
   ins = write_byte(0x00)
   # pak.WriteByte(0x00); # new in 189b+, show shield in left hand
   ins += write_byte(0x00)

   # pak.WriteByte((byte)((m_gameClient.Player.IsCloakInvisible ? 0x01 : 0x00) | (m_gameClient.Player.IsHelmInvisible ? 0x02 : 0x00))); # new in 189b+, cloack/helm visibility
   ins += write_byte(0x00)

   # if (windowType == eInventoryWindowType.HouseVault && houseVault != null)
   # 	pak.WriteByte((byte)(houseVault.Index + 1));	# Add the vault number to the window caption
   # else
   # 	pak.WriteByte((byte)((m_gameClient.Player.IsCloakHoodUp ? 0x01 : 0x00) | (int)m_gameClient.Player.ActiveQuiverSlot)); #bit0 is hood up bit4 to 7 is active quiver
   ins += write_byte(0x00)

   # # ^ in 1.89b+, 0 bit - showing hooded cloack, if not hooded not show cloack at all ?
   # pak.WriteByte(m_gameClient.Player.VisibleActiveWeaponSlots);
   ins += write_byte(0x00)

   # pak.WriteByte((byte)windowType);
   ins += write_byte(window_type)

   # foreach (var entry in items)
   # {
   #  pak.WriteByte((byte)(entry.Key));
   # 	WriteItemData(pak, entry.Value);
   # }
   # TODO: consider no items for now as we test

   pak = write_short(packet_length(ins))
   pak += write_byte(0x02)
   pak += ins
   return pak

# public override void SendInventoryItemsUpdate(IDictionary<int, InventoryItem> updateItems, eInventoryWindowType windowType)
# 		{
# 			if (m_gameClient.Player == null)
# 				return;
# 			if (updateItems == null)
# 				updateItems = new Dictionary<int, InventoryItem>();
# 			if (updateItems.Count <= ServerProperties.Properties.MAX_ITEMS_PER_PACKET)
# 			{
# 				SendInventoryItemsPartialUpdate(updateItems, windowType);
# 				return;
# 			}
#
# 			var items = new Dictionary<int, InventoryItem>(ServerProperties.Properties.MAX_ITEMS_PER_PACKET);
# 			foreach (var item in updateItems)
# 			{
# 				items.Add(item.Key, item.Value);
# 				if (items.Count >= ServerProperties.Properties.MAX_ITEMS_PER_PACKET)
# 				{
# 					SendInventoryItemsPartialUpdate(items, windowType);
# 					items.Clear();
# 					windowType = eInventoryWindowType.Update;
# 				}
# 			}
#
# 			if (items.Count > 0)
# 				SendInventoryItemsPartialUpdate(items, windowType);
# 		}
